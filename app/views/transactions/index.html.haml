.container
	%legend Transactions

	%table.table.table-hover
		.thead
			%tr
				%th= "Type of transaction"
				%th= "Amount"
				%th= "Transaction to/from"
				%th= "Category"
				%th= "Transaction date"
		.tbody
			- @transactions.each do |t|
				- if t.transaction_type == 'deposit'
					%tr.success
						%td= t.transaction_type
						%td= money(t.amount)
						%td= t.name
						%td= t.category
						%td= t.transaction_date
				- else
					%tr.danger
						%td= t.transaction_type
						%td= money(t.amount)
						%td= t.name
						%td= t.category
						%td= t.transaction_date
			%br
			%br
	
	= link_to "Add Transaction", new_transaction_path, :class => "btn btn-success"
	
	%br
	%br
	.container
		.row
			.col-md-12
				%border-bottom
				%br
				
				= form_tag search_transactions_path, method: :get do
					Search by:
					%br
					
					Transaction type:
					= select_tag "search[trans_type]", options_for_select(["Incoming", "Outgoing"]), include_blank: true
				
					Transaction Category:
					= select_tag 'search[cat]', options_from_collection_for_select(Transaction.all, 'category', 'category'), include_blank: true

					Transaction business:
					= select_tag "search[name]", options_from_collection_for_select(Transaction.all, 'name', 'name'), include_blank: true

					%br

					Search by amount range:
					= label_tag "Amount range start"
					= number_field_tag 'search[begin_amount]'
					= label_tag "Amount range end"
					= number_field_tag 'search[end_amount]'

					%br
					
					Search by date range:
					= label_tag "Begin date"
					= date_field_tag "search[begin_date]"
					= label_tag "End date"
					= date_field_tag "search[end_date]"

					= submit_tag "Search"
					%br
					%br

